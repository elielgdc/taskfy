<!DOCTYPE html>

<html lang="pt-BR">
<head>
<link href="manifest.json" rel="manifest"/>
<link href="icone.png" rel="icon"/>
<meta content="#0b1220" name="theme-color"/>
<meta charset="utf-8">
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<title>Taskfy</title>
<style>
    :root{
      --bg:#0b1220;
      --panel:#0f172a;
      --panel2:#0b1326;
      --line:#1f2a44;
      --text:#e5e7eb;
      --muted:#94a3b8;

      --blue:#2f6fed;
      --blue2:#1f5ae0;

      --shadow:0 14px 35px rgba(0,0,0,.35);
      --radius:14px;

      --chip-today-bg: rgba(34,197,94,.14);
      --chip-today-bd: rgba(34,197,94,.35);
      --chip-today-tx: #86efac;

      --chip-future-bg: rgba(245,158,11,.14);
      --chip-future-bd: rgba(245,158,11,.35);
      --chip-future-tx: #fde68a;

      --chip-overdue-bg: rgba(239,68,68,.14);
      --chip-overdue-bd: rgba(239,68,68,.35);
      --chip-overdue-tx: #fca5a5;

      --chip-none-bg: rgba(148,163,184,.12);
      --chip-none-bd: rgba(148,163,184,.25);
      --chip-none-tx: #cbd5e1;
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      background:var(--bg);
      color:var(--text);
    }

    /* Topbar */
    .topbar{
      height:58px;
      background:rgba(15,23,42,.92);
      border-bottom:1px solid var(--line);
      display:flex;
      align-items:center;
      padding:0 14px;
      gap:10px;
      position:sticky; top:0; z-index:10;
      backdrop-filter: blur(10px);
    }
    .dot{width:10px;height:10px;border-radius:999px;background:#7ac943}
    .user{font-weight:900}
    .spacer{flex:1}
    .topbar-left{display:flex;align-items:center;gap:10px;min-width:0;}
    .topbar-right{margin-left:auto;display:flex;align-items:center;gap:10px;min-width:0;}
    .brand{font-weight:1000;color:#e2e8f0;}
    .muted{color:var(--muted);font-size:13px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:280px;}
    .search{
      display:flex;align-items:center;gap:8px;
      background:rgba(148,163,184,.10);
      border:1px solid rgba(148,163,184,.18);
      padding:8px 12px;border-radius:999px;min-width:280px;
      color:var(--muted);font-size:13px;
    }
    .btn{
      border:1px solid rgba(148,163,184,.18);
      background:rgba(15,23,42,.92);
      border-radius:12px;
      padding:9px 12px;
      cursor:pointer;
      font-weight:900;
      color:var(--text);
    }
    .btn.primary{
      background:var(--blue);
      border-color:rgba(47,111,237,.75);
    }
    .btn.primary:hover{background:var(--blue2)}
    .btn.icon{width:40px;height:40px;display:grid;place-items:center}

    /* Layout: board + archive sidebar */
    .wrap{padding:14px}
    .layout{
      display:grid;
      grid-template-columns: 1fr 320px;
      gap:12px;
      align-items:start;
    }

    .board{
      display:grid;
      grid-template-columns: repeat(5, minmax(240px, 1fr));
      gap:12px;
      align-items:start;
    }

    .col{
  border-radius:var(--radius);
  display:flex;
  flex-direction:column;
}
    .col-head{
      display:flex;align-items:center;gap:8px;
      padding:10px 10px 8px;
      color:var(--muted);
      font-size:13px;
    }
    .col-title{
      font-weight:1000;
      color:#dbeafe;
      display:flex;
      align-items:center;
      gap:8px;
      letter-spacing:.2px;
    }
    .badge{
      background:rgba(148,163,184,.10);
      border:1px solid rgba(148,163,184,.18);
      padding:2px 8px;
      border-radius:999px;
      font-size:12px;
      color:#cbd5e1;
      font-weight:1000;
    }
    .col-tools{margin-left:auto;display:flex;gap:6px}
    .mini{
      width:30px;height:30px;border-radius:10px;
      border:1px solid rgba(148,163,184,.18);
      background:rgba(15,23,42,.92);
      cursor:pointer;display:grid;place-items:center;
      color:#cbd5e1;font-weight:1000;
      user-select:none;
    }

    .add-row{
      display:flex;align-items:center;gap:8px;
      padding:0 10px 10px;
    }
    .add-plus{
      width:36px;height:36px;border-radius:12px;
      background:rgba(148,163,184,.10);
      border:1px dashed rgba(148,163,184,.35);
      cursor:pointer;
      display:grid;place-items:center;
      color:#93c5fd;
      font-weight:1000;
      font-size:18px;
      user-select:none;
    }
    .add-input{
      flex:1;
      background:rgba(148,163,184,.06);
      border:1px solid rgba(148,163,184,.18);
      border-radius:12px;
      padding:10px 11px;
      font-size:13px;
      outline:none;
      color:var(--text);
    }
    .add-input::placeholder{color:#94a3b8}

.cards{
  padding:0 10px 320px;
  display:flex;
  flex-direction:column;
  gap:10px;
  min-height:40px;
  flex:1;
}

    .card{
      background:rgba(15,23,42,.95);
      border:1px solid rgba(148,163,184,.18);
      border-radius:14px;
      padding:10px 10px 9px;
      cursor:pointer;
      position:relative;
    }
    .card:hover{border-color:rgba(147,197,253,.35)}
    .card.dragging{opacity:.7}

    .card-top{display:flex;align-items:center;gap:8px}
    .avatar{
        width:26px;
 	height:26px;
  	border-radius:999px;
  	background-image: url("perfil.png"); /* üëà nome do arquivo */
  	background-size: cover;
  	background-position: center;
  	border:1px solid rgba(148,163,184,.25);
  	flex:0 0 auto;
    }
    .title{
      font-weight:500;
      font-size:13px;
      color:#e5e7eb;
      line-height:1.25;
      flex:1;
      min-width:0;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .kebab{
      width:30px;height:30px;border-radius:10px;
      border:1px solid rgba(148,163,184,.18);
      background:rgba(15,23,42,.95);
      display:grid;place-items:center;
      color:#cbd5e1;
      cursor:pointer;
      user-select:none;
    }

    .meta{
      margin-top:8px;
      display:flex;align-items:center;justify-content:space-between;
      gap:10px;
      font-size:12px;
      color:var(--muted);
    }

    .chip{
      display:inline-flex;
      align-items:center;gap:6px;
      padding:3px 9px;
      border-radius:999px;
      font-weight:500;
      font-size:11.5px;
      white-space:nowrap;
      border:1px solid transparent;
      user-select:none;
    }
    .chip.today{  background:var(--chip-today-bg);  border-color:var(--chip-today-bd);  color:var(--chip-today-tx); }
    .chip.future{ background:var(--chip-future-bg); border-color:var(--chip-future-bd); color:var(--chip-future-tx); }
    .chip.overdue{background:var(--chip-overdue-bg);border-color:var(--chip-overdue-bd);color:var(--chip-overdue-tx); }
    .chip.none{   background:var(--chip-none-bg);   border-color:var(--chip-none-bd);   color:var(--chip-none-tx); }

    .icons{display:flex;gap:6px;align-items:center}
    .linkicon{
      width:20px;height:20px;border-radius:8px;
      border:1px solid rgba(148,163,184,.18);
      display:grid;place-items:center;
      color:#cbd5e1;
      background:rgba(148,163,184,.06);
      font-size:12px;
      user-select:none;
    }

    /* Kebab menu */
    .menu{
      position:absolute;
      top:40px;
      right:10px;
      width:200px;
      background:rgba(15,23,42,.98);
      border:1px solid rgba(148,163,184,.18);
      border-radius:14px;
      box-shadow: var(--shadow);
      overflow:hidden;
      display:none;
      z-index:20;
    }
    .menu.open{display:block}
    .menu button{
      width:100%;
      border:none;
      background:transparent;
      text-align:left;
      padding:11px 12px;
      cursor:pointer;
      font-weight:1000;
      color:#e5e7eb;
      font-size:13px;
      display:flex;
      align-items:center;
      gap:10px;
    }
    .menu button:hover{background:rgba(148,163,184,.08)}
    .menu .sep{height:1px;background:rgba(148,163,184,.18)}
    .danger{color:#fca5a5}

    /* Sidebar Arquivado (dropzone) */
    .side{position:sticky; top:72px; height:calc(100vh - 92px)}
    .side-card{
      background:rgba(15,23,42,.95);
      border:1px solid rgba(148,163,184,.18);
      border-radius:16px;
      box-shadow: 0 10px 24px rgba(0,0,0,.25);
      padding:14px;
      transition:.12s ease;
      user-select:none;
    }
    .side-card.drop-active{
      outline:2px dashed rgba(59,130,246,.85);
      outline-offset:4px;
      transform: translateY(-1px);
    }
    .side-title{
      display:flex;align-items:center;justify-content:space-between;
      font-weight:1000;
      color:#e5e7eb;
      margin-bottom:12px;
    }
    .big{
      font-size:34px;
      font-weight:1000;
      color:#93c5fd;
      margin:10px 0 0;
      text-align:center;
    }
    .side-sub{
      text-align:center;
      color:var(--muted);
      font-weight:1000;
      margin-top:6px;
      font-size:12px;
    }
    .side-actions{
      display:flex;
      justify-content:center;
      margin-top:12px;
    }
    .hint{
      color:#94a3b8;
      font-weight:900;
      font-size:12px;
      margin-top:10px;
      text-align:center;
    }

    /* Modal base */
    .overlay{
      position:fixed;inset:0;
      background:rgba(2,6,23,.72);
      display:none;
      align-items:flex-start;
      justify-content:center;
      padding:22px;
      z-index:50;
    }
    .overlay.open{display:flex}

    .modal{
      width:min(880px, 92vw);
      max-width:92vw;
      max-height:90vh;
      overflow:hidden;
      display:flex;
      flex-direction:column;
    }

       .modal-top, .modal-head{
      display:flex;align-items:center;gap:10px;
      padding:12px 14px;
      border-bottom:1px solid rgba(148,163,184,18);
      background:rgba(11,19,38,85);
      overflow:visible;
    }
    .modal-title{
      font-weight:1000;
      color:#e5e7eb;
      flex:1;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .due-wrap{display:flex;align-items:center;gap:8px; position:relative;}
    .due-pill{
      display:flex;align-items:center;gap:8px;
      border:1px solid rgba(148,163,184,.18);
      background:rgba(148,163,184,.06);
      border-radius:12px;
      padding:8px 10px;
      cursor:pointer;
      font-weight:1000;
      color:#e5e7eb;
      font-size:13px;
      user-select:none;
    }
    .due-pill small{color:var(--muted);font-weight:1000}
    .select{
      border:1px solid rgba(148,163,184,.18);
      border-radius:12px;
      padding:8px 10px;
      background:rgba(148,163,184,.06);
      font-weight:1000;
      cursor:pointer;
      color:#e5e7eb;
      outline:none;
    }
    .modal-close{
      width:40px;height:40px;border-radius:12px;
      border:1px solid rgba(148,163,184,.18);
      background:rgba(148,163,184,.06);
      cursor:pointer;
      font-size:18px;
      color:#e5e7eb;
    }

    .modal-body{
      flex:1;
      display:flex;
      flex-direction:column;
      gap:14px;
      padding:16px;
      overflow-y:auto;
      overflow-x:hidden;
    }
    .left{padding:14px;border-right:1px solid rgba(148,163,184,.18)}
    .right{padding:14px;background:rgba(11,19,38,.55)}

    .section{
      border:1px solid rgba(148,163,184,.18);
      border-radius:14px;
      background:rgba(15,23,42,.92);
      padding:12px;
      margin-bottom:12px;
    }
    .sec-head{
      display:flex;align-items:center;justify-content:space-between;
      margin-bottom:10px;
    }
    .sec-title{font-weight:1000;font-size:13px;color:#e5e7eb}
    .textarea, .input{
      width:100%;
      border:1px solid rgba(148,163,184,.18);
      border-radius:12px;
      padding:10px;
      font-size:13px;
      outline:none;
      background:rgba(148,163,184,.06);
      color:#e5e7eb;
    }
    .textarea{min-height:140px;resize:vertical}
    .row{display:flex;gap:8px;align-items:center}

    .tabs{
      display:flex;gap:10px;
      border-bottom:1px solid rgba(148,163,184,.18);
      padding-bottom:8px;
      margin-bottom:10px;
    }
    .tab{
      font-weight:1000;
      font-size:12px;
      color:#94a3b8;
      cursor:pointer;
      padding:6px 10px;
      border-radius:999px;
      user-select:none;
    }
    .tab.active{
      color:#93c5fd;
      background:rgba(59,130,246,.14);
      border:1px solid rgba(59,130,246,.22);
    }

    .timeline{
      display:flex;flex-direction:column;gap:10px;
      max-height:420px; overflow:auto; padding-right:6px;
    }

  .create-card-btn{
  margin-bottom:12px;
  width:100%;
  padding:14px;
  border-radius:14px;
  border:0;
  background:linear-gradient(135deg,#2ecc71,#27ae60);
  color:#0b1a12;
  font-size:15px;
  font-weight:600;
  cursor:pointer;
}

.create-card-btn:hover{
  filter:brightness(1.05);
}
    .entry{display:flex;gap:10px;align-items:flex-start}
    .bub{
      width:28px;height:28px;border-radius:999px;
      background:rgba(59,130,246,.18);
      display:grid;place-items:center;
      color:#93c5fd;font-weight:1000;font-size:12px;
      flex:0 0 auto;
      user-select:none;
      border:1px solid rgba(59,130,246,.22);
    }
    .bubble{
      background:rgba(148,163,184,.06);
      border:1px solid rgba(148,163,184,.18);
      border-radius:14px;
      padding:10px;
      width:100%;
    }
    .bubble .meta2{
      display:flex;justify-content:space-between;gap:10px;
      font-size:11.5px;color:var(--muted);
      margin-bottom:6px;font-weight:1000;
    }
    .bubble .txt{
      font-size:13px;color:#e5e7eb;line-height:1.35;
      white-space:pre-wrap;word-break:break-word;
    }

    /* Archive modal list */
    .arch-list{
      display:flex;
      flex-direction:column;
      gap:10px;
      max-height: 60vh;
      overflow:auto;
      padding-right:6px;
    }
    .arch-item{
      border:1px solid rgba(148,163,184,.18);
      border-radius:14px;
      padding:10px;
      background:rgba(148,163,184,.06);
      display:flex;
      gap:10px;
      align-items:flex-start;
    }
    .arch-item .meta3{
      font-size:12px;
      color:var(--muted);
      font-weight:1000;
      margin-top:4px;
    }
    .arch-item .actions{
      margin-left:auto;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      justify-content:flex-end;
    }
    .arch-item .actions button{
      border:1px solid rgba(148,163,184,.18);
      background:rgba(15,23,42,.92);
      border-radius:12px;
      padding:8px 10px;
      cursor:pointer;
      font-weight:1000;
      font-size:12px;
      color:#e5e7eb;
    }
    .arch-item .actions button:hover{background:rgba(148,163,184,.10)}

    /* Responsive */
    @media (max-width: 1180px){
      .layout{grid-template-columns: 1fr}
      .side{position:relative;top:auto;height:auto}
    }
    @media (max-width: 1100px){
      .board{grid-template-columns: repeat(2, 1fr)}
      .modal-body{grid-template-columns:1fr}
      .left{border-right:none;border-bottom:1px solid rgba(148,163,184,.18)}
    }
    @media (max-width: 560px){
      .board{grid-template-columns: 1fr}
      .search{display:none}
    }

    .modalTitleInput{
  width: 420px;
  max-width: 52vw;
  background: transparent;
  border: 0;
  outline: none;
  color: inherit;
  font-size: 18px;
  font-weight: 600;
  padding: 6px 10px;
  border-radius: 10px;
}

.modalTitleInput::placeholder{
  opacity: .6;
}

.modalTitleInput:focus{
  background: rgba(255,255,255,.05);
}
    .modalTitleInput:focus{
  background: rgba(255,255,255,.05);
}

.modal-footer{
  position: sticky;
  bottom: 0;
  padding: 18px;
  background: linear-gradient(to top, rgba(15,23,42,.98), rgba(15,23,42,.85));
  border-top: 1px solid rgba(148,163,184,.18);
  display: flex;
  justify-content: flex-end;
  z-index: 5;
}

.due-hidden{
  position:absolute;
  left:-9999px;
  width:1px;
  height:1px;
  opacity:0;
  pointer-events:none;
}    

.due-wrap{ position:relative; }

.due-pop{
  position:absolute;
  top: calc(100% + 10px);
  left: 0;
  width: 310px;
  background: rgba(15,23,42,98);
  border: 1px solid rgba(148,163,184,18);
  border-radius: 14px;
  box-shadow: var(--shadow);
  padding: 12px;
  display:none;
  z-index: 999;
}

.due-pop.open{ display:block; }

.due-pop-top{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  margin-bottom:10px;
}

.due-nav{
  width:34px;height:34px;
  border-radius:10px;
  border:1px solid rgba(148,163,184,18);
  background: rgba(148,163,184,06);
  color:#e5e7eb;
  cursor:pointer;
  font-size:18px;
  font-weight:1000;
}

.due-month{
  flex:1;
  text-align:center;
  font-weight:1000;
  color:#e5e7eb;
}

.due-quick{
  display:flex;
  gap:8px;
  margin-bottom:10px;
}

.due-q{
  flex:1;
  border:1px solid rgba(148,163,184,18);
  background: rgba(148,163,184,06);
  color:#e5e7eb;
  border-radius:10px;
  padding:8px 10px;
  cursor:pointer;
  font-weight:1000;
}

.due-q:hover{ background: rgba(148,163,184,10); }

.due-dow{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap:6px;
  color: var(--muted);
  font-weight:1000;
  font-size:12px;
  margin-bottom:8px;
  text-align:center;
}

.due-grid{
  display:grid;
  grid-template-columns: repeat(7, 1fr);
  gap:6px;
}

.due-day{
  height:34px;
  border-radius:10px;
  border:1px solid rgba(148,163,184,18);
  background: rgba(148,163,184,06);
  color:#e5e7eb;
  cursor:pointer;
  font-weight:1000;
}

.due-day:hover{ background: rgba(148,163,184,10); }

.due-day.muted{
  opacity:.35;
}

.due-day.sel{
  outline: 2px solid rgba(59,130,246,.65);
  background: rgba(59,130,246,.18);
}

    
  
/* ===== Login Gate (tela de login) ===== */
body.auth-locked .topbar,
body.auth-locked .wrap{ display:none; }

body.auth-locked #loginGate{ display:flex; }
body:not(.auth-locked) #loginGate{ display:none; }

.login-gate{
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  background: radial-gradient(1200px 600px at 50% 10%, rgba(60,120,255,.15), transparent 60%),
              linear-gradient(180deg, #070d18, #060a12);
  z-index: 9999;
}

.login-gate.open{ display: flex; }

.login-card{
  width: min(420px, 92vw);
  border-radius: 16px;
  padding: 22px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.10);
  box-shadow: 0 20px 60px rgba(0,0,0,.45);
  backdrop-filter: blur(10px);
}

.login-title{
  font-size: 20px;
  font-weight: 900;
  margin-bottom: 6px;
}

.login-sub{
  opacity: .8;
  margin-bottom: 18px;
  font-size: 13px;
}

.login-label{
  display: block;
  font-size: 12px;
  opacity: .85;
  margin: 10px 0 6px;
}

.login-input{
  width: 100%;
  padding: 12px 12px;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.20);
  color: #eaf0ff;
  outline: none;
}

.login-input:focus{
  border-color: rgba(80,140,255,.55);
}

.login-btn{
  width: 100%;
  margin-top: 14px;
  padding: 12px;
  border-radius: 12px;
  border: 0;
  cursor: pointer;
  font-weight: 900;
  background: linear-gradient(90deg, #2b7bff, #2bd9ff);
  color: #06101e;
}

.login-hint{
  margin-top: 12px;
  font-size: 12px;
  opacity: .85;
  line-height: 1.35;
}

.login-link{
  background: transparent;
  border: 0;
  color: #7fb0ff;
  cursor: pointer;
  font-weight: 900;
  padding: 0;
}

/* ===== FIX MODAL LAYOUT (corrige desalinhamento) ===== */

/* seu HTML usa .modal-head (n√£o .modal-top) */
.modal-head{
  display:flex;
  align-items:center;
  gap:10px;
  padding:12px 14px;
  border-bottom:1px solid rgba(148,163,184,.18);
  background:rgba(11,19,38,.85);
}

/* o input de t√≠tulo precisa ter estilo (no HTML ele n√£o tem class) */
#modalTitle{
  flex:1;
  min-width: 240px;
  background: transparent;
  border: 0;
  outline: none;
  color: inherit;
  font-size: 18px;
  font-weight: 700;
  padding: 6px 10px;
  border-radius: 10px;
}
#modalTitle::placeholder{ opacity:.6; }
#modalTitle:focus{ background: rgba(255,255,255,.05); }

/* seu CSS atual deixa .modal-body em GRID, mas seu HTML n√£o tem .left/.right */
.modal-body{
  display:flex !important;
  flex-direction:column;
  gap:12px;
  padding:14px;
  overflow:auto;
}

/* organiza os ‚Äúrows‚Äù e evita bot√£o quebrado/colado */
.modal-body .row{
  display:flex;
  gap:8px;
  align-items:center;
  flex-wrap:wrap;
}

.modal-body .row.actions{
  justify-content:flex-end;
}

/* deixa checklist/notas com cara de se√ß√£o */
.checklist, .notes, #details{
  border:1px solid rgba(148,163,184,.18);
  border-radius:14px;
  background:rgba(15,23,42,.92);
  padding:12px;
}

/* textarea do bloco de notas ocupa melhor */
#newNote{
  min-height:120px;
}

/* evita que bot√µes fiquem espremidos */
.modal-body .mini{
  white-space:nowrap;
}

/* ===== MODAL FIX (layout est√°vel) ===== */

/* seu HTML usa .modal-head (o CSS antigo era .modal-top) */
.modal-head{
  display:flex;
  align-items:center;
  gap:10px;
  padding:12px 14px;
  border-bottom:1px solid rgba(148,163,184,.18);
  background:rgba(11,19,38,.85);
}

/* evita estouro/horizontal scroll */
.modal{
  overflow:hidden;               /* era visible */
}

.modal-body{
  display:flex !important;        /* desliga o grid antigo */
  flex-direction:column;
  gap:12px;
  padding:14px;
  overflow:auto;
  overflow-x:hidden;              /* mata o scroll horizontal */
}

.modal-body > *{ min-width:0; }   /* impede filhos de estourarem */

#modalTitle{
  flex:1;
  min-width: 240px;
  background: transparent;
  border: 0;
  outline: none;
  color: inherit;
  font-size: 18px;
  font-weight: 700;
  padding: 6px 10px;
  border-radius: 10px;
}
#modalTitle:focus{ background: rgba(255,255,255,.05); }

/* rows mais previs√≠veis */
.modal-body .row{
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
}

/* se√ß√µes com borda */
.checklist, .notes, #details{
  border:1px solid rgba(148,163,184,.18);
  border-radius:14px;
  background:rgba(15,23,42,.92);
  padding:12px;
}

/* inputs do modal ocupam largura */
#newTask{
  flex:1;
  min-width:220px;
}

#newNote{
  flex:1;
  min-width:260px;
  min-height:130px;
}

/* bot√£o "Salvar nota" n√£o ficar colado no textarea */
.notes .row{
  align-items:flex-start;
}
.notes #addNoteBtn{
  margin-top:2px;
  white-space:nowrap;
}

/* a√ß√µes do rodap√©: sempre vis√≠veis e organizadas */
.row.actions{
  position: sticky;
  bottom: 0;
  padding: 12px 0 0;
  background: linear-gradient(to top, rgba(15,23,42,.98), rgba(15,23,42,0));
  justify-content:flex-end;
  gap:8px;
}
.row.actions .mini{
  width:auto;                     /* para de esmagar texto */
  height:auto;
  padding:10px 12px;
  border-radius:12px;
}

.modal-body *{
  max-width:100%;
  box-sizing:border-box;
}

.row.actions{
  display:flex;
  justify-content:flex-end;
  gap:8px;
  flex-wrap:wrap;
}

.row.actions .mini{
  width:auto;
  height:auto;
  padding:8px 12px;
}
    
    
</style>
</meta></head>
<body>
<!-- LOGIN GATE -->

<!-- Topbar (aparece ap√≥s login) -->
<div class="topbar" style="display:none;">
<div class="topbar-left">
<div class="brand">Taskfy</div>
</div>
<div class="topbar-right">
<span class="muted" id="authStatus"></span>
<button class="mini" id="authBtn" type="button">Entrar</button>
<button class="mini" id="viewArchivedBtn" type="button">Arquivados <span class="badge" id="archBadge"><span id="archCount">0</span></span></button>
</div>
</div>
<!-- Board -->
<div class="wrap">
<div class="board" id="board" style="display:none;"></div>
<!-- √Årea de drop para arquivar (drag and drop) -->
<div id="archiveDrop" style="display:none;"></div>
</div>
<!-- Modal overlay / detalhes do card -->
<div class="modal-body">
  <div class="left">
    <div class="muted" id="cardWhere"></div>

    <div class="row">
      <button class="mini" id="duePill" type="button">Prazo</button>
      <span class="muted" id="dueLabel">Prazo:</span>
    </div>

    <div class="due-pop" id="duePop">
      <div class="due-pop-head">
        <button class="mini" id="duePrev" type="button">‚óÄ</button>
        <div class="muted" id="dueMonth"></div>
        <button class="mini" id="dueNext" type="button">‚ñ∂</button>
      </div>
      <div class="due-pop-actions">
        <button class="mini" id="dueToday" type="button">Hoje</button>
        <button class="mini" id="dueClear" type="button">Limpar</button>
      </div>
      <input id="dueDate" type="date"/>
      <div id="dueGrid"></div>
    </div>

    <div id="details"></div>
  </div>

  <div class="right">
    <div class="checklist">
      <div class="row">
        <input id="newTask" placeholder="Nova tarefa" type="text"/>
        <button class="mini" id="addTaskBtn" type="button">Adicionar</button>
      </div>
      <div id="taskList"></div>
    </div>

    <div class="notes">
      <div class="row">
        <textarea id="newNote" placeholder="Nova nota"></textarea>
        <button class="mini" id="addNoteBtn" type="button">Salvar nota</button>
      </div>
    </div>

    <div class="row actions">
      <button class="mini" id="saveDetailsBtn" type="button">Salvar</button>
      <button class="mini" id="createCardBtn" type="button">Criar card</button>
      <button class="mini" id="archiveFromModalBtn" type="button">Arquivar</button>
      <button class="mini" id="deleteCardBtn" type="button">Excluir</button>
    </div>
  </div>
</div>
<div class="modal-body">
<div class="muted" id="cardWhere"></div>
<div class="row">
<button class="mini" id="duePill" type="button">Prazo</button>
<span class="muted" id="dueLabel">Prazo:</span>
</div>
<div class="due-pop" id="duePop">
<div class="due-pop-head">
<button class="mini" id="duePrev" type="button">‚óÄ</button>
<div class="muted" id="dueMonth"></div>
<button class="mini" id="dueNext" type="button">‚ñ∂</button>
</div>
<div class="due-pop-actions">
<button class="mini" id="dueToday" type="button">Hoje</button>
<button class="mini" id="dueClear" type="button">Limpar</button>
</div>
<input id="dueDate" type="date"/>
<div id="dueGrid"></div>
</div>
<textarea id="details" class="textarea" placeholder="Detalhes do card..."></textarea>
<div class="checklist">
<div class="row">
<input id="newTask" placeholder="Nova tarefa" type="text"/>
<button class="mini" id="addTaskBtn" type="button">Adicionar</button>
</div>
<div id="taskList"></div>
</div>
<div class="notes">
<div class="row">
<textarea id="newNote" placeholder="Nova nota"></textarea>
<button class="mini" id="addNoteBtn" type="button">Salvar nota</button>
</div>
</div>
<div class="row actions">
<button class="mini" id="saveDetailsBtn" type="button">Salvar</button>
<button class="mini" id="createCardBtn" type="button">Criar card</button>
<button class="mini" id="archiveFromModalBtn" type="button">Arquivar</button>
<button class="mini" id="deleteCardBtn" type="button">Excluir</button>
</div>
</div>
</div>
</div>
<!-- Timeline -->
<div id="timeline" style="display:none;"></div>
<!-- Arquivados -->
<div class="overlay" id="archOverlay">
<div class="modal">
<div class="modal-head">
<div class="muted" style="font-weight:700;">Arquivados</div>
<button class="mini" id="closeArch" type="button">Fechar</button>
</div>
<div class="modal-body">
<div class="row">
<button class="mini" id="clearArchivedBtn" type="button">Limpar arquivados</button>
</div>
<div id="archList"></div>
</div>
</div>
</div>
<div class="login-gate" id="loginGate">
<div class="login-card">
<div class="login-title">Taskfy</div>
<div class="login-sub">Entre para ver seu quadro.</div>
<label class="login-label">Email</label>
<input autocomplete="email" class="login-input" id="loginEmail" placeholder="seu@email.com" type="email"/>
<label class="login-label">Senha</label>
<input autocomplete="current-password" class="login-input" id="loginPass" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" type="password"/>
<button class="login-btn" id="loginBtn">Entrar</button>
<div class="login-hint">
      Primeiro acesso? voc√™ pode criar conta com o mesmo email e senha.
      <button class="login-link" id="signupBtn" type="button">Criar conta</button>
</div>
</div>
</div>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.min.js"></script>
<script src="app.js"></script>
</body>
</html>
